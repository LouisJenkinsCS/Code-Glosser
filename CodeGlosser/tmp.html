<html><head><title></title><style>/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333333;
  background: #f8f8f8;
}

.hljs-comment,
.hljs-quote {
  color: #999988;
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #333333;
  font-weight: bold;
}

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  color: #008080;
}

.hljs-string,
.hljs-doctag {
  color: #dd1144;
}

.hljs-title,
.hljs-section,
.hljs-selector-id {
  color: #990000;
  font-weight: bold;
}

.hljs-subst {
  font-weight: normal;
}

.hljs-type,
.hljs-class .hljs-title {
  color: #445588;
  font-weight: bold;
}

.hljs-tag,
.hljs-name,
.hljs-attribute {
  color: #000080;
  font-weight: normal;
}

.hljs-regexp,
.hljs-link {
  color: #009926;
}

.hljs-symbol,
.hljs-bullet {
  color: #990073;
}

.hljs-built_in,
.hljs-builtin-name {
  color: #0086b3;
}

.hljs-meta {
  color: #999999;
  font-weight: bold;
}

.hljs-deletion {
  background: #ffdddd;
}

.hljs-addition {
  background: #ddffdd;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}</style><style>.note {
  display: inline;
  position: relative;
  background-color: yellow;
}

.note:hover:after {
  background: #333;
  background: rgba(0,0,0,.8);
  border-radius: 5px;
  bottom: 26px;
  white-space: pre-wrap;
  color: #fff;
  content: attr(msg);
  left: 20%;
  padding: 5px 15px;
  position: absolute;
  z-index: 98;
  width:500px;
  display:block;
  word-wrap: normal;
}

.note:hover:before{
  border:solid;
  border-color: #333 transparent;
  border-width: 6px 6px 0 6px;
  bottom: 20px;
  content: "";
  left: 50%;
  position: absolute;
  display:block;
  z-index: 99;
}</style><meta charset="UTF-8"></head><body><pre><code><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"Game.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span>

<span class="note" msg="Namespace names are all lower-case, and based on project names and possibly their directory structure: google_awesome_project."><span class="hljs-keyword">namespace</span> ns_game</span>
{
    <span class="hljs-keyword">void</span> Game::start() 
    {
        <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)
        {
            reset();
            <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; print(board) &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span> &lt;&lt; <span class="hljs-built_in">std</span>::flush;

            <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>) 
            {
                process_turn(board, turn);
                turns++;
                <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; print(board) &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span> &lt;&lt; <span class="hljs-built_in">std</span>::flush;

                <span class="hljs-keyword">if</span>(has_player_won(board, turn)) 
                {
                    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>
                            &lt;&lt; (turn == AI ? <span class="hljs-string">"AI "</span> : <span class="hljs-string">"PLAYER "</span>)
                            &lt;&lt; <span class="hljs-string">"wins..."</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
                    <span class="hljs-keyword">break</span>;
                }
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(turns &gt; board.size()) 
                {
                    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span> &lt;&lt; <span class="hljs-string">"Number of turns has"</span>
                            <span class="hljs-string">" exceeded the amount of free spaces on the"</span>
                            <span class="hljs-string">" board! DRAW!"</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
                    <span class="hljs-keyword">break</span>;
                }

                change_turn();
            }

            <span class="hljs-keyword">if</span>(!repeat())
                <span class="hljs-keyword">break</span>;
        }
    }
    
    <span class="hljs-keyword">bool</span> Game::is_game_over(<span class="hljs-keyword">const</span> ns_matrix::Matrix&lt;<span class="hljs-keyword">int</span>&gt;&amp; board)
    {
        <span class="hljs-keyword">return</span> has_player_won(board, AI) || has_player_won(board, PLAYER)
                || turns &gt; board.size();
    }
    
    <span class="hljs-keyword">void</span> Game::reset() 
    {
        turns = <span class="hljs-number">0</span>;
        board.clear();

        <span class="hljs-comment">// Seed and randomly set player turn.</span>
        <span class="hljs-built_in">std</span>::srand(<span class="hljs-built_in">std</span>::time(<span class="hljs-literal">nullptr</span>));
        turn = (<span class="hljs-built_in">std</span>::rand() % <span class="hljs-number">1</span>) ? AI : PLAYER;
    }
    
    <span class="hljs-keyword">void</span> Game::change_turn()
    {
        turn = (turn == AI ? PLAYER : AI);
    }
    
    <span class="hljs-keyword">bool</span> Game::repeat() <span class="hljs-keyword">const</span> 
    {     
        <span class="hljs-keyword">char</span> c;
        <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)
        {
            c = <span class="hljs-string">'\0'</span>;
            <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span> &lt;&lt; <span class="hljs-string">"Play again?[\'Y\'|\'N\']"</span> 
                    &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span> &lt;&lt; <span class="hljs-string">"=&gt; "</span>;
            <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span> &gt;&gt; c;

            <span class="hljs-keyword">if</span>(<span class="hljs-built_in">std</span>::<span class="hljs-built_in">tolower</span>(c) != <span class="hljs-string">'y'</span> || <span class="hljs-built_in">std</span>::<span class="hljs-built_in">tolower</span>(c) != <span class="hljs-string">'n'</span>)
                <span class="hljs-keyword">break</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">tolower</span>(c) == <span class="hljs-string">'y'</span>;
    };
}</code></pre></body></html>